(this["webpackJsonpshort-link"]=this["webpackJsonpshort-link"]||[]).push([[0],{36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(29),i=n.n(r),s=(n(36),n(10)),o=n.n(s),l=n(15),u=n(16),d=n(14),j=n(21);n(38),n(56);j.a.initializeApp({apiKey:"AIzaSyDlne-A5dYEhmVWChHpt-DDzpF2T3PGnjY",authDomain:"short-links-2021.firebaseapp.com",projectId:"short-links-2021",storageBucket:"short-links-2021.appspot.com",messagingSenderId:"1070516923112",appId:"1:1070516923112:web:a268a7e456522a53d6775d"});var h=j.a.firestore(),b=j.a.auth(),m=new j.a.auth.GoogleAuthProvider,x=n(1),f=a.a.createContext(),p=function(e){var t=a.a.useState({name:null,email:null,photo:null,uid:null,state:null}),n=Object(d.a)(t,2),c=n[0],r=n[1],i=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b.signInWithPopup(m).then((function(e){r(Object(l.a)(Object(l.a)({},c),{},{state:!0})),console.log("- ".concat(e.user.displayName," - se inicio correctamente!"))}))}catch(t){console.log(t),console.error("Ocurrio un error intentando logear al usuario.")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b.signOut().then((function(){return r(Object(l.a)(Object(l.a)({},c),{},{state:!1}))}))}catch(t){console.log("Upss! ocurrio un error al intentar Cerrar Sesi\xf3n."),console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.onAuthStateChanged((function(e){r(e?{name:e.displayName,email:e.email,photo:e.photoURL,uid:e.uid,state:!0}:{name:null,email:null,photo:null,uid:null,state:!1})}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Upps! error al detectar usuario."),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return a.a.useEffect((function(){j()}),[]),Object(x.jsx)(f.Provider,{value:{user:c,iniciarSesion:i,cerrarSesion:s},children:e.children})},O=(n(42),function(){return Object(x.jsx)("div",{className:"LoadingScreen",children:Object(x.jsxs)("div",{className:"lds-ring",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})})}),g=n(19),v=n(5),k=(n(43),function(){var e=a.a.useContext(f).cerrarSesion;return Object(x.jsxs)("header",{className:"header",children:[Object(x.jsxs)("div",{className:"container header__container",children:[Object(x.jsx)("div",{className:"header__item",children:Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAH1JREFUWIXtlzsOwDAIQ0PV+1+ZTiwog21RZYg983lByChr3a5ggjMzoaIRcF04EG2uQEDNGQAm/tGxZmQAAxjgOMCrJnajUZ1PmsDO5VirLtETqEb9xWW/7CSO74ABDGAAAxhgFEC5iBAAUlg9x3QSc3YhcBYAhRj9mv2pD/bdOCm7hmEAAAAAAElFTkSuQmCC",alt:"Logo de Short Link"})}),Object(x.jsx)("div",{className:"header__item",children:Object(x.jsx)("button",{type:"button",onClick:e,className:"button",children:"Cerrar Sesi\xf3n"})})]}),Object(x.jsx)("div",{className:"header__time",children:Object(x.jsx)("div",{className:"container header__timeInfo",children:Object(x.jsx)("p",{className:"header__textoDate",children:"Versi\xf3n: 0.0.0"})})})]})}),A=(n(44),n(45),n(46),function(e){var t=e.type,n=void 0===t?"button":t,c=e.text;return Object(x.jsx)("button",{type:n,className:"btnAddLetters",children:c})}),_=n(23),N=function(){var e=a.a.useContext(f).user,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(d.a)(t,2),a=n[0],r=n[1];return[a,function(e){var t=e.target;r(Object(l.a)(Object(l.a)({},a),{},Object(_.a)({},t.name,t.value)))},function(){r(e)}]}({title:"",desc:"",link:""}),n=Object(d.a)(t,3),r=n[0],i=r.title,s=r.desc,j=r.link,b=n[1],m=n[2],p=a.a.useState(null),O=Object(d.a)(p,2),g=O[0],v=O[1],k=function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),t.prev=1,!(j.trim().length>9)){t.next=9;break}return t.next=5,h.collection("usuarios").doc(e.uid).collection("links").add({title:i,desc:s,link:j});case 5:m(),v(""),t.next=11;break;case 9:return v("*Recuerda Agregar un LINK!"),t.abrupt("return");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"modal",children:Object(x.jsx)("div",{className:"modal__container",children:Object(x.jsxs)("form",{className:"modal__form",onSubmit:k,children:[Object(x.jsxs)("div",{className:"modal__form--input",children:[Object(x.jsx)("label",{htmlFor:"titulo",children:"Titulo: "}),Object(x.jsx)("input",{required:!0,type:"text",id:"titulo",placeholder:"Ingresa el Titulo de la tarjeta...",autoComplete:"off",onChange:function(e){return b(e)},name:"title",value:i})]}),Object(x.jsxs)("div",{className:"modal__form--input",children:[Object(x.jsxs)("label",{htmlFor:"descripcion",children:["Descripci\xf3n: ",Object(x.jsxs)("small",{children:["(",s.trim().length,"/80)"]})]}),Object(x.jsx)("textarea",{required:!0,id:"descripcion",name:"desc",value:s,cols:"50",rows:"5",maxLength:"80",placeholder:"Ingresa una Descripci\xf3n...",autoComplete:"off",onChange:function(e){return b(e)}})]}),Object(x.jsxs)("div",{className:"modal__form--input",children:[Object(x.jsxs)("label",{htmlFor:"link",children:["Link: ",Object(x.jsxs)("span",{className:"errorModal",children:[g," "]})]}),Object(x.jsx)("input",{required:!0,type:"text",id:"link",placeholder:"Ingresa el Link...",autoComplete:"off",onChange:function(e){return b(e)},name:"link",value:j})]}),Object(x.jsx)(A,{type:"submit",text:"Agregar Link"})]})})})},C=(n(47),function(){var e=a.a.useState(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(x.jsxs)(x.Fragment,{children:[n&&Object(x.jsx)(N,{}),Object(x.jsx)("button",{className:"btnAddLink",onClick:function(){c(!n)},children:Object(x.jsx)("i",{className:"fas ".concat(n&&"fa-times"," fa-plus-circle")})})]})}),S=(n(48),function(e){var t=e.title,n=e.desc,c=e.link,a=e.id,r=e.handleDelete;return Object(x.jsxs)("article",{className:"link__item",children:[Object(x.jsxs)("h2",{className:"link__itemTitle",children:[Object(x.jsx)("span",{className:"link__itemTitle--hash",children:"#"})," ",t]}),Object(x.jsxs)("div",{className:"link__desc",children:[Object(x.jsxs)("p",{className:"link__descText",children:[Object(x.jsx)("b",{children:"Description:"})," ",n]}),Object(x.jsx)("button",{className:"link__descIcon",onClick:function(){return r(a)},children:Object(x.jsx)("i",{className:"fas fa-times"})})]}),Object(x.jsx)("a",{className:"link__btn",href:c,target:"_blank",rel:"noreferrer",children:"Ir al Enlace"})]})}),y=function(){var e=a.a.useContext(f).user,t=a.a.useState([]),n=Object(d.a)(t,2),c=n[0],r=n[1],i=function(t){h.collection("usuarios").doc(String(e.uid)).collection("links").doc(t).delete()},s=function(){var t=Object(u.a)(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.collection("usuarios").doc(String(e.uid)).collection("links");case 2:return n=t.sent,t.next=5,n.onSnapshot((function(e){var t=[];e.forEach((function(e){var n=Object(l.a)({id:e.id},e.data());t.push(n)})),r(t)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.useEffect((function(){return s(),function(){h.collection("usuarios").doc(String(e.uid)).collection("links").onSnapshot((function(){})),r([]),console.log("Cerrando Componente de ShortLinks")}}),[e.uid]),Object(x.jsxs)("section",{className:"container link",children:[Object(x.jsx)("h1",{className:"link__title",children:"Short Links"}),c.length?Object(x.jsx)("div",{className:"link__container",children:c.map((function(e){return Object(x.jsx)(S,{title:e.title,desc:e.desc,link:e.link,id:e.id,handleDelete:i},e.id)}))}):Object(x.jsx)("h3",{style:{textAlign:"center",fontWeight:"300",color:"var(--azul)"},children:"No tienes Links cargados en la base de datos. "}),Object(x.jsx)(C,{})]})},w=function(){return Object(x.jsxs)(g.a,{children:[Object(x.jsx)(k,{}),Object(x.jsxs)(v.d,{children:[Object(x.jsx)(v.b,{exact:!0,path:"/links",component:y}),Object(x.jsx)(v.a,{from:"/",push:!0,to:"/links"})]})]})},I=(n(53),n.p+"static/media/connected.4688882b.svg"),L=function(){var e=a.a.useContext(f).iniciarSesion;return Object(x.jsx)("div",{className:"login",children:Object(x.jsxs)("form",{className:"login__form container",children:[Object(x.jsx)("h1",{className:"login__form--title",children:"Inicia Sesi\xf3n"}),Object(x.jsx)("p",{className:"login__form--text",children:"Conectate con la cuenta de Google para poder sincronizar tus Links en todos los dispositivos en tiempo real."}),Object(x.jsx)("img",{src:I,alt:"Illustration of Undraw Connecte world",className:"login__form--image"}),Object(x.jsxs)("button",{type:"button",className:"login__form--btnLogin",onClick:function(){e()},children:["Login ",Object(x.jsx)("i",{className:"fab fa-google"})]})]})})},D=function(){return Object(x.jsx)(g.a,{children:Object(x.jsxs)(v.d,{children:[Object(x.jsx)(v.b,{exact:!0,path:"/login",component:L}),Object(x.jsx)(v.a,{to:"/login"})]})})},E=function(){var e=a.a.useContext(f).user;return Object(x.jsx)(x.Fragment,{children:null==e.state?Object(x.jsx)(O,{}):e.state?Object(x.jsx)(w,{}):Object(x.jsx)(D,{})})};var F=function(){return Object(c.useEffect)((function(){})),Object(x.jsx)(p,{children:Object(x.jsx)(g.a,{children:Object(x.jsx)(v.d,{children:Object(x.jsx)(v.b,{path:"/",component:E})})})})};n(54);i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.b3f11ef5.chunk.js.map